import{_ as i,c as a,a as t,o as e}from"./app-lDoY6fgV.js";const n={};function h(l,s){return e(),a("div",null,s[0]||(s[0]=[t(`<div class="hint-container tip"><p class="hint-container-title">说明</p><p>本文将介绍如何通过 certbot + 阿里云 DNS API 申请和自动续期 Let&#39;s Encrypt 通配符证书。</p></div><p>官方网站：<a href="https://letsencrypt.org/zh-cn/" target="_blank" rel="noopener noreferrer">https://letsencrypt.org/zh-cn/</a></p><p>参考文档：<a href="https://letsencrypt.org/zh-cn/docs/" target="_blank" rel="noopener noreferrer">https://letsencrypt.org/zh-cn/docs/</a></p><h2 id="_1-什么是-let-s-encrypt" tabindex="-1"><a class="header-anchor" href="#_1-什么是-let-s-encrypt"><span>1. 什么是 Let&#39;s Encrypt？</span></a></h2><p>Let&#39;s Encrypt 是一家免费、开放、自动化的证书颁发机构，由非营利组织<a href="https://www.abetterinternet.org/" target="_blank" rel="noopener noreferrer">互联网安全研究组</a> (ISRG) 运作。</p><h3 id="let-s-encrypt-的运作方式" tabindex="-1"><a class="header-anchor" href="#let-s-encrypt-的运作方式"><span>Let&#39;s Encrypt 的运作方式</span></a></h3><p>Let&#39;s Encrypt 和 <a href="https://tools.ietf.org/html/rfc8555" target="_blank" rel="noopener noreferrer">ACME 协议</a> 的目标是实现可信数字证书的自动获取，从而简化 HTTPS 服务器部署中的人工操作。 这一目标是由 Web 服务器上的证书管理软件完成的。</p><p>流程分为两步。 首先，管理软件向证书颁发机构证明该服务器拥有域名的控制权。 之后，该管理软件就可以申请、续期或吊销该域名的证书。</p><div class="hint-container note"><p class="hint-container-title">注</p><p>官网文档查看详细的 <a href="https://letsencrypt.org/zh-cn/how-it-works/" target="_blank" rel="noopener noreferrer">Let&#39;s Encrypt 的运作方式</a></p></div><h2 id="_2-前置环境说明" tabindex="-1"><a class="header-anchor" href="#_2-前置环境说明"><span>2. 前置环境说明</span></a></h2><p>本文档命令执行操作基于 Ubuntu 22.04 系统，其他 Linux 发行版可以参考执行，但部分命令路径和软件包可能略有不同。</p><p>域名注册商使用阿里云并使用阿里云的 DNS 服务。因为使用的是 DNS-01 验证方式，并借助阿里云的 API 自动添加 DNS 记录，因此域名需要 <strong>使用阿里云作为 DNS 解析服务商</strong>，否则插件将无法自动完成验证。</p><table><thead><tr><th>环境</th><th>版本</th></tr></thead><tbody><tr><td>system</td><td>Ubuntu 22.04.4 LTS</td></tr><tr><td>certbot</td><td>certbot 3.3.0</td></tr><tr><td>pip</td><td>pip 22.0.2 from /usr/lib/python3/dist-packages/pip (python 3.10)</td></tr><tr><td>certbot-dns-aliyun</td><td>certbot-dns-aliyun 2.0.0</td></tr></tbody></table><h2 id="_3-安装-certbot-和依赖插件" tabindex="-1"><a class="header-anchor" href="#_3-安装-certbot-和依赖插件"><span>3. 安装 Certbot 和依赖插件</span></a></h2><p>官方网站：<a href="https://certbot.eff.org/" target="_blank" rel="noopener noreferrer">https://certbot.eff.org/</a></p><p>Certbot 是一款免费的开源软件工具，用于在手动管理的网站上自动使用 <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#39;s Encrypt 证书来启用 HTTPS</a>。</p><p>使用 APT 命令安装 Certbot 及其依赖包：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-安装-dns-插件-certbot-dns-aliyun" tabindex="-1"><a class="header-anchor" href="#_4-安装-dns-插件-certbot-dns-aliyun"><span>4. 安装 DNS 插件：certbot-dns-aliyun</span></a></h2><blockquote><p><strong>Aliyun DNS Authenticator plugin for Certbot</strong></p><p>A certbot dns plugin to obtain certificates using aliyun.</p></blockquote><p>Github 地址：<a href="https://github.com/tengattack/certbot-dns-aliyun" target="_blank" rel="noopener noreferrer">https://github.com/tengattack/certbot-dns-aliyun</a></p><p>使用 <code>pip</code> 命令安装 certbot-dns-aliyun 阿里云 DNS 插件</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot-dns-aliyun</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者手动安装：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/tengattack/certbot-dns-aliyun</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot-dns-aliyun</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> setup.py</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-获取阿里云-ram-访问密钥" tabindex="-1"><a class="header-anchor" href="#_5-获取阿里云-ram-访问密钥"><span>5. 获取阿里云 RAM 访问密钥</span></a></h2><p><a href="https://ram.console.aliyun.com/" target="_blank" rel="noopener noreferrer">https://ram.console.aliyun.com/</a></p><p>并确保你的 RAM 账户有 <code>AliyunDNSFullAccess</code> 权限。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这里建议新建一个 RAM 子账号，仅授予子账号 <code>AliyunDNSFullAccess</code> 权限。</p></div><h4 id="访问密钥文件-ak-sk" tabindex="-1"><a class="header-anchor" href="#访问密钥文件-ak-sk"><span>访问密钥文件 AK/SK</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cat</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;&lt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">EOF</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/letsencrypt/aksk.ini</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dns_aliyun_access_key = xxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dns_aliyun_access_key_secret = xxx</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 600</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/letsencrypt/aksk.ini</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">注</p><ul><li>创建 <code>aksk.ini</code> 文件用于保存阿里云的 AccessKey；</li><li>将文件权限设置为 <code>600</code> 以保护密钥安全。</li></ul></div><h2 id="_6-申请通配符证书" tabindex="-1"><a class="header-anchor" href="#_6-申请通配符证书"><span>6. 申请通配符证书</span></a></h2><p>运行 <code>certbot certonly</code> 命令，申请证书：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">certbot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certonly</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --authenticator=dns-aliyun</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --dns-aliyun-credentials=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/letsencrypt/aksk.ini</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --preferred-challenges</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dns-01</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://acme-v02.api.letsencrypt.org/directory</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*.example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>命令参数说明：</p><ul><li><code>certonly</code>：只申请证书，不自动安装（适用于 Nginx、Apache 手动配置场景）。</li><li><code>--authenticator=dns-aliyun</code>：使用阿里云 DNS 插件进行验证。</li><li><code>--dns-aliyun-credentials</code>：指定含有 AccessKey 的配置文件路径。</li><li><code>--preferred-challenges dns-01</code>：指定使用 DNS 方式验证域名所有权。</li><li><code>--server</code>：明确指定 ACME v2 的服务器地址。</li><li><code>-d &quot;*.example.com&quot;</code>：目标域名，通配符格式。</li></ul><h2 id="_7-查看证书和自动续期" tabindex="-1"><a class="header-anchor" href="#_7-查看证书和自动续期"><span>7. 查看证书和自动续期</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@localhost:~#</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certificates</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Saving</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> debug</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/log/letsencrypt/letsencrypt.log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Found</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> following</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certs:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  Certificate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> example.com</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Serial</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Number:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 590508d4b90daf0b32ea24e65174d733325</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Key</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Type:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ECDSA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Domains:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.example.com</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Expiry</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Date:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 2025-06-26</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:38:30+00:00</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (VALID: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">37</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> days</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Certificate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Path:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/letsencrypt/live/example.com/fullchain.pem</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Private</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Key</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Path:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/letsencrypt/live/example.com/privkey.pem</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看 <code>certbot.timer</code> 服务下次运行的时间：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@localhost:~#</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> list-timers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot.timer</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">NEXT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        LEFT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       LAST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        PASSED</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       UNIT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">          ACTIVATES</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Mon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 2025-05-19</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 13:24:15</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 23min</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> left</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Mon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 2025-05-19</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 07:02:12</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CST</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5h</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 58min</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot.timer</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certbot.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> timers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> listed.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Pass</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> see</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> loaded</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> but</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inactive</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> timers,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> too.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,41)]))}const k=i(n,[["render",h]]),r=JSON.parse(`{"path":"/article/ssl/lets-encrypt-certbot-aliyun/","title":"如何申请并自动续期 Let's Encrypt 通配符证书","lang":"zh-CN","frontmatter":{"title":"如何申请并自动续期 Let's Encrypt 通配符证书","createTime":"2025/05/19 09:21:56","permalink":"/article/ssl/lets-encrypt-certbot-aliyun/","excerpt":"本文将介绍如何通过 certbot + 阿里云 DNS API 自动申请和续期 Let’s Encrypt 通配符证书。","tags":["Certbot","Let's Encrypt","SSL/TLS"],"description":"说明 本文将介绍如何通过 certbot + 阿里云 DNS API 申请和自动续期 Let's Encrypt 通配符证书。 官方网站：https://letsencrypt.org/zh-cn/ 参考文档：https://letsencrypt.org/zh-cn/docs/ 1. 什么是 Let's Encrypt？ Let's Encrypt ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"如何申请并自动续期 Let's Encrypt 通配符证书\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-19T07:22:59.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.lihaicheng.com/article/ssl/lets-encrypt-certbot-aliyun/"}],["meta",{"property":"og:site_name","content":"白羊"}],["meta",{"property":"og:title","content":"如何申请并自动续期 Let's Encrypt 通配符证书"}],["meta",{"property":"og:description","content":"说明 本文将介绍如何通过 certbot + 阿里云 DNS API 申请和自动续期 Let's Encrypt 通配符证书。 官方网站：https://letsencrypt.org/zh-cn/ 参考文档：https://letsencrypt.org/zh-cn/docs/ 1. 什么是 Let's Encrypt？ Let's Encrypt ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-19T07:22:59.000Z"}],["meta",{"property":"article:tag","content":"SSL/TLS"}],["meta",{"property":"article:tag","content":"Let's Encrypt"}],["meta",{"property":"article:tag","content":"Certbot"}],["meta",{"property":"article:modified_time","content":"2025-05-19T07:22:59.000Z"}]]},"readingTime":{"minutes":3.24,"words":971},"git":{"createdTime":1747639379000,"updatedTime":1747639379000,"contributors":[{"name":"lihaicheng","username":"lihaicheng","email":"lihaicheng.email@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/lihaicheng?v=4","url":"https://github.com/lihaicheng"}]},"autoDesc":true,"filePathRelative":"SSL/TLS/lets-encrypt-certbot-aliyun.md","headers":[],"categoryList":[{"id":"ea52c3","sort":10005,"name":"SSL"},{"id":"021d14","sort":10006,"name":"TLS"}]}`);export{k as comp,r as data};
